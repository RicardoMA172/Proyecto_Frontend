<div class="dashboard">

  <!-- Main content -->
  <main class="content">
    <div class="panel">
      <div class="tabs" role="tablist">
        <button (click)="setTab('summary')" [class.active]="activeTab==='summary'" role="tab">Promedios</button>
        <button (click)="setTab('charts')" [class.active]="activeTab==='charts'" role="tab">Gráficas</button>
      </div>
      <div class="panel-body">
        <h1>Resumen de la calidad del aire</h1>
        <div *ngIf="activeTab === 'summary'" class="stats">
      <div class="card">
        <h3>Temperatura</h3>
        <p>Promedio: {{ resumen.temp || 0 }} °C</p>
      </div>
      <div class="card">
        <h3>Humedad</h3>
        <p>Promedio: {{ resumen.hum || 0 }} %</p>
      </div>
      <div class="card">
        <h3>Dioxido de Carbono (CO2)</h3>
        <p>Promedio: {{ resumen.co || 0 }} ppm</p>
      </div>
      <div class="card">
        <h3>Partículas PM10</h3>
        <p>Promedio: {{ resumen.pm10 || 0 }} µg/m³</p>
      </div>
      <div class="card">
        <h3>Partículas PM2.5</h3>
        <p>Promedio: {{ resumen.pm25 || 0 }} µg/m³</p>
      </div>
      <!-- Gráficas del día para cada contaminante: una por tarjeta, apiladas -->
</div>
  <div *ngIf="activeTab === 'charts'" class="stats">
          <div class="card" style="grid-column: 1 / -1;" *ngFor="let p of pollutants">
            <h3>{{p.label}} - Hoy</h3>
            <div class="chart-wrapper">
              <canvas [attr.data-key]="p.key" #pollChart></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>